var Single=function(){"use strict";const e="function"==typeof x;class s{constructor(e){this.sub=e}static create(t){return new s(s=>{let r=!0;const i={isActive:()=>r,dispose(){r=!1}},{subscribe:c,next:o,error:n,complete:u}=s;c(i);try{t({next(s){e(o)&&r&&o(s)},error(s){if(!e(n)||!r)throw s;n(s),r=!1},complete(){e(u)&&r&&(u(),r=!1)}})}catch(e){n(e),i.dispose()}})}subscribe(e,s,t){let r=!0;const i={isActive:()=>r,dispose(){r=!1}};return this.sub({subscribe(e){i.isActive=(()=>e.isActive()),i.dispose=e.dispose},next:e,error:s,complete:t}),i}}return s}();